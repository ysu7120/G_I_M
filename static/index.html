<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>κ²½κΈ°λ„ μ¤‘λ“± μ„μ© λ©΄μ ‘</title>
    <link rel="stylesheet" href="/static/css/duolingo.css">
    <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-square-round.css" rel="stylesheet">
</head>

<body>

    <div class="app-wrapper">
        <header>
            <h1>κ²½κΈ°λ„ μ¤‘λ“± μ„μ©κ³ μ‹ λ©΄μ ‘</h1>
        </header>

        <main>
            <!-- Home: Central Buttons -->
            <div id="home-view" class="view-section active">
                <div style="flex: 1; display:flex; flex-direction:column; justify-content:center; width:100%;">
                    <div style="text-align:center; margin-bottom:2rem;">
                        <img src="/static/teacher_mascot.png" width="150" alt="teacher mascot">
                        <p style="color:#777; margin-top:10px;">μ¤λλ„ ν•©κ²©μ„ ν–¥ν•΄!</p>
                    </div>

                    <button class="menu-btn primary" onclick="showSimStartData()">
                        <span>μ‹¤μ „ λ¨μλ©΄μ ‘</span> <span>π€</span>
                    </button>
                    <button class="menu-btn secondary" onclick="showHistory()">
                        <span>μ—°μµκΈ°λ΅</span> <span>π“…</span>
                    </button>

                    <div style="display:flex; gap:10px;">
                        <button class="menu-btn" style="flex:1; justify-content:center;" onclick="showQuestions('κµ¬μƒν•')">
                            <span style="font-size:0.9rem">κµ¬μƒν• λ¬Έν•­κ΄€λ¦¬</span>
                        </button>
                        <button class="menu-btn" style="flex:1; justify-content:center;" onclick="showQuestions('μ¦‰λ‹µν•')">
                            <span style="font-size:0.9rem">μ¦‰λ‹µν• λ¬Έν•­κ΄€λ¦¬</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Simulation View -->
            <div id="simulation-view" class="view-section">

                <!-- 1. Planning Phase -->
                <div id="sim-planning" class="phase-container">
                    <div class="timer-box" id="planning-timer">15:00</div>
                    <div class="scroll-container" id="planning-qs-list">
                        <!-- 3 Questions will be injected here -->
                    </div>
                    <div class="bottom-controls">
                        <button class="btn-large" onclick="finishPlanning()">κµ¬μƒ μ™„λ£ (λ©΄μ ‘ μ‹μ‘)</button>
                    </div>
                </div>

                <!-- 2. Interview Phase (Planning Output) -->
                <div id="sim-interview-planning" class="phase-container">
                    <h3 style="text-align:center; margin:10px 0;">κµ¬μƒν• λ‹µλ³€</h3>
                    <div class="scroll-container" id="interview-planning-list">
                        <!-- Questions + Logic -->
                    </div>
                    <div class="bottom-controls">
                        <button id="btn-start-immediate" class="btn-large disabled" onclick="startImmediatePhase()">μ¦‰λ‹µν•
                            λ©΄μ ‘ μ‹μ‘</button>
                    </div>
                </div>

                <!-- 3. Interview Phase (Immediate) -->
                <div id="sim-interview-immediate" class="phase-container">
                    <h3 style="text-align:center; margin:10px 0;">μ¦‰λ‹µν• λ‹µλ³€</h3>
                    <div class="scroll-container" id="interview-immediate-list">
                        <!-- Q1, Q2 Inject -->
                    </div>
                    <div class="bottom-controls">
                        <button id="btn-finish-all" class="btn-large disabled" onclick="finishAll()">λ©΄μ ‘ μΆ…λ£</button>
                    </div>
                </div>

            </div>

            <!-- History View -->
            <!-- History View -->
            <div id="history-view" class="view-section">
                <div class="nav-header">
                    <button onclick="goHome()" class="btn-back">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                            <path d="M0 0h24v24H0z" fill="none" />
                            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"
                                fill="currentColor" />
                        </svg>
                    </button>
                    <h2 style="margin:0 0 0 10px;">μ—°μµ κΈ°λ΅</h2>
                </div>
                <div id="history-list" class="scroll-container"></div>
            </div>

            <!-- Questions View -->
            <div id="questions-view" class="view-section">
                <div class="nav-header">
                    <button onclick="goHome()" class="btn-back">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                            <path d="M0 0h24v24H0z" fill="none" />
                            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"
                                fill="currentColor" />
                        </svg>
                    </button>
                    <h2 id="q-view-title" style="margin:0 0 0 10px;">λ¬Έν•­ κ΄€λ¦¬</h2>
                </div>

                <!-- Excel Upload Area -->
                <div
                    style="background:#f0f8ff; padding:20px; border-radius:16px; margin-bottom:20px; text-align: left;">

                    <p style="margin:0 0 10px 0; font-size:1rem; color:#333; font-weight:bold; text-align:center;">μ—‘μ…€ νμΌ
                        λ“±λ΅ κ°€μ΄λ“</p>

                    <!-- Guide Table -->
                    <table class="guide-table">
                        <thead>
                            <tr>
                                <th>Aμ—΄ (λ¬Έν•­λ…)</th>
                                <th>Bμ—΄ (λ¬Έν•­λ‚΄μ©)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>[2024 κΈ°μ¶]</td>
                                <td>λ‹¤μ μλ£λ¥Ό λ¶„μ„ν•μ—¬...</td>
                            </tr>
                        </tbody>
                    </table>

                    <p style="margin:10px 0 15px 0; font-size:0.8rem; color:#666; text-align:center;">
                        β€» μ—‘μ…€ νμΌμ μ²« λ²μ§Έ ν–‰λ¶€ν„° λ°”λ΅ λ°μ΄ν„°λ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”.
                    </p>

                    <!-- Custom File Input -->
                    <div class="file-upload-container">
                        <input type="file" id="excel-upload" accept=".xlsx" hidden>
                        <label for="excel-upload" id="file-label" class="menu-btn secondary"
                            style="margin:0; text-align:center; justify-content:center; font-size:0.95rem;">
                            π“‚ μ—‘μ…€ νμΌ μ„ νƒν•κΈ°
                        </label>
                        <button onclick="uploadExcel()" class="menu-btn primary"
                            style="margin-top:10px; width:100%; text-align:center; justify-content:center; font-size:0.95rem;">
                            μ—…λ΅λ“ ν•κΈ°
                        </button>
                    </div>
                </div>

                <div class="scroll-container">
                    <h3 style="margin:10px 0; color:#555; font-size:1rem;">λ“±λ΅λ λ¬Έν•­ λ¦¬μ¤νΈ</h3>
                    <ul id="q-list-manage" style="padding-left:0; list-style:none;"></ul>
                </div>
            </div>

        </main>
    </div>

    <!-- Modals -->
    <div id="modal-start" class="modal-overlay">
        <div class="modal">
            <h3>λ©΄μ ‘μ„ μ‹μ‘ν• κΉμ”?</h3>
            <p>15λ¶„ κµ¬μƒ μ‹κ°„μ΄ λ¨Όμ € μ‹μ‘λ©λ‹λ‹¤.</p>
            <div class="modal-buttons">
                <button onclick="closeModal('modal-start')" class="menu-btn">μ·¨μ†</button>
                <button onclick="startSimulationReal()" class="menu-btn primary">μ§„ν–‰</button>
            </div>
        </div>
    </div>

    <div id="modal-plan-finish" class="modal-overlay">
        <div class="modal">
            <h3>κµ¬μƒ μΆ…λ£</h3>
            <p>λ©΄μ ‘(λ…Ήμ)μ„ μ‹μ‘ν•μ‹κ² μµλ‹κΉ?</p>
            <div class="modal-buttons">
                <button onclick="closeModal('modal-plan-finish')" class="menu-btn">μ·¨μ†</button>
                <button onclick="startInterviewReal()" class="menu-btn primary">μ§„ν–‰</button>
            </div>
        </div>
    </div>

    <div id="modal-all-finish" class="modal-overlay">
        <div class="modal">
            <h3>λ©΄μ ‘ μΆ…λ£</h3>
            <p>μκ³ ν•μ…¨μµλ‹λ‹¤!<br>κΈ°λ΅μ„ μ €μ¥ν•©λ‹λ‹¤.</p>
            <div class="modal-buttons">
                <button onclick="saveAndGoHistory()" class="menu-btn primary">κ²°κ³Ό ν™•μΈ</button>
            </div>
        </div>
    </div>

    <script src="/static/js/app_duo.js?v=2"></script>
</body>

</html>